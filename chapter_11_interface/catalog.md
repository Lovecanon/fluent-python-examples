## 第11章 接口：从协议到抽象基类 256
#### 11.1 Python 文化中的接口和协议 257
特殊方法：激活一些基本的对象操作，这些特殊方法的名字以两个下划线开头、两个下划线结尾。如：`obj[key]`会调用`__getitem__`方法；
协议：在面向对象编程中，协议是非正式的接口，只在文档中定义，在代码中不定义。例如：Python的序列协议只需要`__len__`和`__getitem__`两个方法；
接口：从鸭子类型的代表特征动态协议，到使接口更明确、能验证实现是否符合规定的抽象基类。协议为非正式的接口。
接口的补充定义：对象公开方法的子集，让对象在系统中扮演特定的角色。一个类可能实现多个接口，从而让实例扮演多个角色。
对Python程序员来说："X类对象"、"X协议"、"X接口"都是一个意思。
抽象基类的常见用途：实现接口时作为超类使用。

鉴于序列协议的重要性，如果没有`__iter__`和`__contains__`方法，Python会调用`__getitem__`方法，设法让迭代和in运算符可用。



#### 11.2 Python 喜欢序列 258
#### 11.3 使用猴子补丁在运行时实现协议 260
#### 11.4 Alex Martelli 的水禽 262
#### 11.5 定义抽象基类的子类 266
#### 11.6 标准库中的抽象基类 267
#### 11.6.1 collections.abc 模块中的抽象基类 267
#### 11.6.2 抽象基类的数字塔 269
#### 11.7 定义并使用一个抽象基类 270
#### 11.7.1 抽象基类句法详解 273
#### 11.7.2 定义 Tombola 抽象基类的子类 274
#### 11.7.3 Tombola 的虚拟子类 276
#### 11.8 Tombola 子类的测试方法 278
#### 11.9 Python 使用 register 的方式 281
#### 11.10 鹅的行为有可能像鸭子 281
#### 11.11 本章小结 283
#### 11.12 延伸阅读 284
